{"version":3,"sources":["views/Nft/market/components/MarketPageTitle.tsx","views/Nft/market/components/BaseSubMenu.tsx","views/Nft/market/components/BannerHeader/BannerImage.tsx","views/Nft/market/components/BannerHeader/index.tsx","views/Nft/market/Profile/utils/sortUserActivity.tsx","views/Nft/market/Profile/components/EditProfileAvatar.tsx","views/Nft/market/Profile/components/ProfileHeader.tsx","views/Nft/market/Profile/components/TabMenu.tsx","views/Nft/market/Profile/components/Achievements/AchievementAvatar.tsx","views/Nft/market/Profile/components/Achievements/AchievementTitle.tsx","views/Nft/market/Profile/components/Achievements/AchievementDescription.tsx","views/Nft/market/Profile/components/Achievements/AchievementCard.tsx","views/Nft/market/Profile/components/Achievements/AchievementsList.tsx","views/Nft/market/Profile/components/Achievements/AchievementRow/PointsLabel.tsx","views/Nft/market/Profile/components/Achievements/AchievementRow/index.tsx","views/Nft/market/Profile/components/Achievements/ClaimPointsCallout.tsx","views/Nft/market/Profile/components/Achievements/index.tsx","views/Nft/market/Profile/components/ActivityHistory/ActivityEventText.tsx","views/Nft/market/Profile/components/ActivityHistory/ActivityPrice.tsx","views/Nft/market/Profile/components/ActivityHistory/MobileModal.tsx","views/Nft/market/Profile/components/ActivityHistory/ActivityRow.tsx","views/Nft/market/Profile/components/ActivityHistory/TableLoader.tsx","views/Nft/market/Profile/components/NoNftsImage.tsx","views/Nft/market/Profile/components/ActivityHistory/index.tsx","views/Nft/market/Profile/components/SubMenu.tsx","views/Nft/market/Profile/components/UserNfts.tsx","views/Nft/market/Profile/ConnectedProfile.tsx","state/achievements/hooks.ts","views/Nft/market/Profile/hooks/useNftsForAddress.tsx","views/Nft/market/Profile/components/UnconnectedProfileNfts.tsx","views/Nft/market/Profile/UnconnectedProfile.tsx","views/Nft/market/Profile/index.tsx","components/PageHeader/PageHeader.tsx","views/Nft/market/components/GridPlaceholder.tsx","views/Nft/market/components/MarketPageHeader.tsx","views/Nft/market/components/BannerHeader/AvatarImage.tsx","views/Nft/market/components/StatBox.tsx","views/Teams/components/IconStatBox.tsx"],"names":["MarketPageTitle","title","description","children","props","gridGap","alignItems","gridTemplateColumns","as","scale","color","mb","BaseSubMenu","styled","SubMenuItems","theme","colors","cardBorder","StyledBannerImage","div","attrs","alt","src","mediaQueries","sm","md","BannerHeader","bannerImage","bannerAlt","avatar","flexDirection","position","pb","BannerImage","bottom","left","MarketEvent","EditOverlay","StyledEditProfileAvatar","EditProfileAvatar","useModal","EditProfileModal","onEditProfileModal","onClick","AvatarImage","StyledIconButton","IconButton","ProfileHeader","accountPath","profile","achievements","nftCollected","isAchievementsLoading","isNftLoading","isProfileLoading","t","useTranslation","account","useWeb3React","isConnectedAccount","toLowerCase","numNftCollected","formatNumber","numPoints","points","numAchievements","length","avatarImage","nft","image","thumbnail","imagePath","teamId","getBannerImage","display","target","href","getBscScanLink","width","username","truncateHash","mr","external","bold","mt","to","StatBox","stat","Tab","button","$active","secondary","textSubtle","background","TabMenu","accountAddress","useParams","pathname","useLocation","useState","includes","achievementsActive","setIsAchievementsActive","useEffect","RouterLink","nftsBaseUrl","NoBadgePlaceholder","BunnyPlaceholderIcon","StyledAchievementAvatar","img","AchievementAvatar","badge","AchievementTitle","key","data","Description","Text","fontSize","AchievementDescription","Details","Flex","AchievementCard","achievement","toLocaleString","Grid","AchievementsList","isLoading","isMobile","useMatchBreakpoints","height","map","id","justifyContent","style","PointsLabel","localePoints","num","ActionColumn","StyledAchievementRow","Body","AchievementRow","onCollectSuccess","isCollecting","setIsCollecting","pointCenterContract","usePointCenterIfoContract","useToast","toastError","toastSuccess","callWithGasPrice","useCallWithGasPrice","handleCollectPoints","a","address","tx","wait","receipt","status","Toast","txHash","transactionHash","px","endIcon","spin","disabled","variant","ClaimPointsCallout","claimableAchievements","setClaimableAchievement","dispatch","useAppDispatch","useProfile","getClaimableIfoData","ifoData","fetchIfoClaims","handleCollectSuccess","addAchievement","addPoints","prevClaimableAchievements","filter","prevClaimableAchievement","isActive","totalPointsToCollect","sumBy","Achievements","IconStatBox","icon","PrizeIcon","subtitle","sortUserActivity","userActivities","askOrderHistory","buyTradeHistory","sellTradeHistory","transformTransactions","transactions","transaction","userSeller","seller","marketEvent","SELL","BUY","timestamp","price","askPrice","otherParty","buyer","allActivity","askOrder","orderType","AskOrderType","CANCEL","MODIFY","NEW","getAskOrderEvent","sort","activityItem1","activityItem2","timestamp1","ethers","BigNumber","from","sub","toNumber","ActivityEventText","events","text","ActivityPrice","bnbBusdPrice","priceInUsd","multiplyPriceByAmount","justifySelf","maxWidth","undefined","minimumFractionDigits","maximumFractionDigits","RoundedImage","Image","radii","default","MobileModal","activity","localeTimestamp","onDismiss","chainId","useActiveWeb3React","useTheme","priceAsFloat","parseFloat","headerBackground","gradients","cardHeader","textAlign","collectionName","name","p","pt","Link","ActivityRow","isXs","isSm","timestampAsMs","Date","year","month","day","hour","minute","onPresentMobileModal","ProfileCell","GridItem","LoadingRow","TableLoader","NoNftsImage","ActivityHistory","currentPage","setCurrentPage","maxPage","setMaxPages","activitiesSlice","setActivitiesSlice","nftMetadata","setNftMetadata","sortedUserActivities","setSortedUserActivities","setIsLoading","userActivity","useUserNfts","useBNBBusdPrice","initializationState","UserNftInitializationState","INITIALIZED","isAddress","toLocaleLowerCase","fetchAddressActivity","getUserActivity","addressActivity","console","error","fetchUserActivity","fetchActivityNftMetadata","activityNftTokenIds","uniqBy","tokenId","collectionAddress","collection","getNftsFromDifferentCollectionsApi","nfts","max","Math","ceil","getMaxPages","slice","getActivitiesSlice","nftMeta","find","metaNft","borderTop","page","SubMenuComponent","ItemsConfig","label","items","activeItem","UserNfts","userNftsInitializationState","location","clickedProfileNft","setClickedProfileNft","clickedSellNft","setClickedSellNft","ProfileNftModal","onPresentProfileNftModal","SellModal","nftToSell","onPresentSellModal","marketData","isUserNft","NftLocation","PROFILE","WALLET","FORSALE","handleCollectibleClick","currentAskPrice","isTradable","nftLocation","GridPlaceholder","TabMenuWrapper","Box","ConnectedProfile","useSelector","state","achievementFetchStatus","userNfts","fetchAchievements","useFetchAchievements","useFetchUserNfts","MarketPageHeader","AchievementFetchStatus","FETCHED","Page","minHeight","path","SubMenu","exact","useNftsForAddress","isProfileFetching","combinedNfts","setCombinedNfts","collections","useGetCollections","hasProfileNft","profileNftTokenId","toString","profileNftCollectionAddress","profileNftWithCollectionAddress","useMemo","getNfts","getCompleteAccountNftData","completeNftData","isEmpty","UnconnectedProfile","useProfileForAddress","profileHookState","isFetching","useAchievementsForAddress","isAchievementFetching","UnconnectedProfileNfts","NftProfile","isConnectedProfile","Outer","Inner","Container","PageHeader","GridPlaceholderItem","numItems","times","itemKey","isDark","borderColor","StatBoxItem","mx","fontWeight","invertedContrast","card","SecondaryCard","tertiary","defaultProps","Icon","isDisabled","textTransform"],"mappings":"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","file":"static/js/15.6b87cce5.chunk.js","sourcesContent":["import React, { ReactNode } from 'react'\r\nimport { Box, Grid, GridProps, Heading } from '@pancakeswap/uikit'\r\n\r\ninterface MarketPageTitleProps extends GridProps {\r\n  title: string\r\n  description?: ReactNode\r\n}\r\n\r\nconst MarketPageTitle: React.FC<MarketPageTitleProps> = ({ title, description, children, ...props }) => (\r\n  <Grid gridGap=\"16px\" alignItems=\"center\" gridTemplateColumns={['1fr', null, null, null, 'repeat(2, 1fr)']} {...props}>\r\n    <Box>\r\n      <Heading as=\"h1\" scale=\"xl\" color=\"secondary\" mb=\"16px\">\r\n        {title}\r\n      </Heading>\r\n      {description}\r\n    </Box>\r\n    <Box>{children}</Box>\r\n  </Grid>\r\n)\r\n\r\nexport default MarketPageTitle\r\n","import { SubMenuItems } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\n\r\nconst BaseSubMenu = styled(SubMenuItems)`\r\n  background-color: transparent;\r\n  border-bottom: 1px ${({ theme }) => theme.colors.cardBorder} solid;\r\n`\r\n\r\nexport default BaseSubMenu\r\n","import styled from 'styled-components'\r\n\r\ninterface StyledBannerImageProps {\r\n  src: string\r\n  alt?: string\r\n}\r\n\r\nconst StyledBannerImage = styled.div.attrs<StyledBannerImageProps>(({ alt }) => ({\r\n  alt,\r\n}))<StyledBannerImageProps>`\r\n  ${({ src, theme }) => (src ? `background-image: url('${src}')` : `background-color: ${theme.colors.cardBorder}`)};\r\n  background-image: url('${({ src }) => src}');\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  flex: none;\r\n  width: 100%;\r\n  border-radius: 32px;\r\n  height: 123px;\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    height: 192px;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaQueries.md} {\r\n    height: 256px;\r\n  }\r\n`\r\n\r\nexport default StyledBannerImage\r\n","import React, { ReactNode } from 'react'\r\nimport { Flex, Box, FlexProps } from '@pancakeswap/uikit'\r\nimport BannerImage from './BannerImage'\r\n\r\ninterface BannerHeaderProps extends FlexProps {\r\n  bannerImage: string\r\n  bannerAlt?: string\r\n  avatar?: ReactNode\r\n}\r\n\r\nconst BannerHeader: React.FC<BannerHeaderProps> = ({ bannerImage, bannerAlt, avatar, children, ...props }) => {\r\n  return (\r\n    <Flex flexDirection=\"column\" mb=\"24px\" {...props}>\r\n      <Box position=\"relative\" pb=\"56px\">\r\n        <BannerImage src={bannerImage} alt={bannerAlt} />\r\n        <Box position=\"absolute\" bottom={0} left={-4}>\r\n          <Flex alignItems=\"flex-end\">\r\n            {avatar}\r\n            {children}\r\n          </Flex>\r\n        </Box>\r\n      </Box>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default BannerHeader\r\n","import { ethers } from 'ethers'\r\nimport { AskOrder, AskOrderType, TokenMarketData, Transaction } from 'state/nftMarket/types'\r\n\r\nexport enum MarketEvent {\r\n  NEW = 'NEW',\r\n  CANCEL = 'CANCEL',\r\n  MODIFY = 'MODIFY',\r\n  BUY = 'BUY',\r\n  SELL = 'SELL',\r\n}\r\n\r\nexport interface Activity {\r\n  marketEvent: MarketEvent\r\n  timestamp: string\r\n  tx: string\r\n  nft?: TokenMarketData\r\n  price?: string\r\n  otherParty?: string\r\n}\r\n\r\nexport const sortUserActivity = (\r\n  account: string,\r\n  userActivities: { askOrderHistory: AskOrder[]; buyTradeHistory: Transaction[]; sellTradeHistory: Transaction[] },\r\n): Activity[] => {\r\n  const { askOrderHistory, buyTradeHistory, sellTradeHistory } = userActivities\r\n\r\n  const getAskOrderEvent = (orderType: AskOrderType): MarketEvent => {\r\n    switch (orderType) {\r\n      case AskOrderType.CANCEL:\r\n        return MarketEvent.CANCEL\r\n      case AskOrderType.MODIFY:\r\n        return MarketEvent.MODIFY\r\n      case AskOrderType.NEW:\r\n        return MarketEvent.NEW\r\n      default:\r\n        return MarketEvent.MODIFY\r\n    }\r\n  }\r\n\r\n  const transformTransactions = (transactions: Transaction[]): Activity[] => {\r\n    const transformedTransactions = transactions.map((transaction) => {\r\n      const userSeller = transaction.seller.id === account.toLowerCase()\r\n      const marketEvent = userSeller ? MarketEvent.SELL : MarketEvent.BUY\r\n      const { timestamp, nft } = transaction\r\n      const price = transaction.askPrice\r\n      const otherParty = userSeller ? transaction.buyer.id : transaction.seller.id\r\n      const tx = transaction.id\r\n      return { marketEvent, price, otherParty, timestamp, nft, tx }\r\n    })\r\n\r\n    return transformedTransactions\r\n  }\r\n\r\n  const transformAskOrders = (askOrders: AskOrder[]): Activity[] => {\r\n    const transformedAskOrders = askOrders.map((askOrder) => {\r\n      const marketEvent = getAskOrderEvent(askOrder.orderType)\r\n      const { timestamp, nft } = askOrder\r\n      const price = askOrder.askPrice\r\n      const tx = askOrder.id\r\n      return { marketEvent, price, timestamp, nft, tx }\r\n    })\r\n\r\n    return transformedAskOrders\r\n  }\r\n\r\n  const allActivity = [\r\n    ...transformAskOrders(askOrderHistory),\r\n    ...transformTransactions(buyTradeHistory),\r\n    ...transformTransactions(sellTradeHistory),\r\n  ]\r\n  if (allActivity.length > 0) {\r\n    const sortedByMostRecent = allActivity.sort((activityItem1, activityItem2) => {\r\n      const timestamp1 = ethers.BigNumber.from(activityItem1.timestamp)\r\n      const timestamp2 = ethers.BigNumber.from(activityItem2.timestamp)\r\n      return timestamp2.sub(timestamp1).toNumber()\r\n    })\r\n\r\n    return sortedByMostRecent\r\n  }\r\n  return []\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useModal } from '@pancakeswap/uikit'\r\nimport AvatarImage from 'views/Nft/market/components/BannerHeader/AvatarImage'\r\nimport EditProfileModal from './EditProfileModal'\r\n\r\nconst EditOverlay = styled.div`\r\n  background: rgba(0, 0, 0, 0.6) url('/images/camera.svg') no-repeat center center;\r\n  border-radius: 50%;\r\n  left: 0;\r\n  height: 100%;\r\n  opacity: 0;\r\n  position: absolute;\r\n  top: 0;\r\n  transition: opacity 300ms;\r\n  width: 100%;\r\n  z-index: 1;\r\n`\r\n\r\nconst StyledEditProfileAvatar = styled.div`\r\n  position: relative;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n\r\n    ${EditOverlay} {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\n\r\nconst EditProfileAvatar: React.FC<{ src: string; alt?: string }> = ({ src, alt }) => {\r\n  const [onEditProfileModal] = useModal(<EditProfileModal />, false)\r\n\r\n  return (\r\n    <StyledEditProfileAvatar onClick={onEditProfileModal}>\r\n      <AvatarImage src={src} alt={alt} />\r\n      <EditOverlay />\r\n    </StyledEditProfileAvatar>\r\n  )\r\n}\r\n\r\nexport default EditProfileAvatar\r\n","import React from 'react'\r\nimport { Link as ReactRouterLink } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { BscScanIcon, Flex, IconButton, Link, Button, useModal } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { getBscScanLink } from 'utils'\r\nimport { formatNumber } from 'utils/formatBalance'\r\nimport truncateHash from 'utils/truncateHash'\r\nimport { Achievement, Profile } from 'state/types'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport EditProfileAvatar from './EditProfileAvatar'\r\nimport BannerHeader from '../../components/BannerHeader'\r\nimport StatBox, { StatBoxItem } from '../../components/StatBox'\r\nimport MarketPageTitle from '../../components/MarketPageTitle'\r\nimport EditProfileModal from './EditProfileModal'\r\nimport AvatarImage from '../../components/BannerHeader/AvatarImage'\r\n\r\ninterface HeaderProps {\r\n  accountPath: string\r\n  profile: Profile\r\n  achievements: Achievement[]\r\n  nftCollected: number\r\n  isAchievementsLoading: boolean\r\n  isNftLoading: boolean\r\n  isProfileLoading: boolean\r\n}\r\n\r\nconst StyledIconButton = styled(IconButton)`\r\n  width: fit-content;\r\n`\r\n\r\n// Account and profile passed down as the profile could be used to render _other_ users' profiles.\r\nconst ProfileHeader: React.FC<HeaderProps> = ({\r\n  accountPath,\r\n  profile,\r\n  achievements,\r\n  nftCollected,\r\n  isAchievementsLoading,\r\n  isNftLoading,\r\n  isProfileLoading,\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const { account } = useWeb3React()\r\n  const [onEditProfileModal] = useModal(<EditProfileModal />, false)\r\n\r\n  const isConnectedAccount = account?.toLowerCase() === accountPath?.toLowerCase()\r\n  const numNftCollected = !isNftLoading ? (nftCollected ? formatNumber(nftCollected, 0, 0) : '-') : null\r\n  const numPoints = !isProfileLoading ? (profile?.points ? formatNumber(profile.points, 0, 0) : '-') : null\r\n  const numAchievements = !isAchievementsLoading\r\n    ? achievements?.length\r\n      ? formatNumber(achievements.length, 0, 0)\r\n      : '-'\r\n    : null\r\n\r\n  const avatarImage = profile?.nft?.image?.thumbnail || '/images/nfts/no-profile-md.png'\r\n\r\n  const getBannerImage = () => {\r\n    const imagePath = '/images/teams'\r\n    if (profile) {\r\n      switch (profile.teamId) {\r\n        case 1:\r\n          return `${imagePath}/storm-banner.png`\r\n        case 2:\r\n          return `${imagePath}/flippers-banner.png`\r\n        case 3:\r\n          return `${imagePath}/cakers-banner.png`\r\n        default:\r\n          break\r\n      }\r\n    }\r\n    return `${imagePath}/no-team-banner.png`\r\n  }\r\n\r\n  const getAvatar = () => {\r\n    const getIconButtons = () => {\r\n      return (\r\n        // TODO: Share functionality once user profiles routed by ID\r\n        <Flex display=\"inline-flex\">\r\n          {accountPath && (\r\n            <StyledIconButton\r\n              target=\"_blank\"\r\n              as=\"a\"\r\n              href={getBscScanLink(accountPath, 'address')}\r\n              alt={t('View BscScan for user address')}\r\n            >\r\n              <BscScanIcon width=\"20px\" color=\"primary\" />\r\n            </StyledIconButton>\r\n          )}\r\n        </Flex>\r\n      )\r\n    }\r\n\r\n    const getImage = () => {\r\n      return (\r\n        <>\r\n          {profile && accountPath && isConnectedAccount ? (\r\n            <EditProfileAvatar src={avatarImage} alt={t('User profile picture')} />\r\n          ) : (\r\n            <AvatarImage src={avatarImage} alt={t('User profile picture')} />\r\n          )}\r\n        </>\r\n      )\r\n    }\r\n    return (\r\n      <>\r\n        {getImage()}\r\n        {getIconButtons()}\r\n      </>\r\n    )\r\n  }\r\n\r\n  const getTitle = () => {\r\n    if (profile?.username) {\r\n      return `@${profile.username}`\r\n    }\r\n\r\n    if (accountPath) {\r\n      return truncateHash(accountPath, 5, 3)\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  const renderDescription = () => {\r\n    const getActivateButton = () => {\r\n      if (!profile) {\r\n        return (\r\n          <ReactRouterLink to=\"/create-profile\">\r\n            <Button mt=\"16px\">{t('Activate Profile')}</Button>\r\n          </ReactRouterLink>\r\n        )\r\n      }\r\n      return (\r\n        <Button width=\"fit-content\" mt=\"16px\" onClick={onEditProfileModal}>\r\n          {t('Reactivate Profile')}\r\n        </Button>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Flex flexDirection=\"column\" mb={[16, null, 0]} mr={[0, null, 16]}>\r\n        {accountPath && profile?.username && (\r\n          <Link href={getBscScanLink(accountPath, 'address')} external bold color=\"primary\">\r\n            {truncateHash(accountPath)}\r\n          </Link>\r\n        )}\r\n        {accountPath && isConnectedAccount && (!profile || !profile?.nft) && getActivateButton()}\r\n      </Flex>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BannerHeader bannerImage={getBannerImage()} bannerAlt={t('User team banner')} avatar={getAvatar()} />\r\n      <MarketPageTitle pb=\"48px\" title={getTitle()} description={renderDescription()}>\r\n        <StatBox>\r\n          <StatBoxItem title={t('NFT Collected')} stat={numNftCollected} />\r\n          <StatBoxItem title={t('Points')} stat={numPoints} />\r\n          <StatBoxItem title={t('Achievements')} stat={numAchievements} />\r\n        </StatBox>\r\n      </MarketPageTitle>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileHeader\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { Link as RouterLink, useLocation, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { Flex } from '@pancakeswap/uikit'\r\nimport { nftsBaseUrl } from 'views/Nft/market/constants'\r\n\r\nconst Tab = styled.button<{ $active: boolean }>`\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  color: ${({ theme, $active }) => ($active ? theme.colors.secondary : theme.colors.textSubtle)};\r\n  border-width: ${({ $active }) => ($active ? '1px 1px 0 1px' : '0')};\r\n  border-style: solid solid none solid;\r\n  border-color: ${({ theme }) =>\r\n    `${theme.colors.cardBorder} ${theme.colors.cardBorder} transparent ${theme.colors.cardBorder}`};\r\n  outline: 0;\r\n  padding: 12px 16px;\r\n  border-radius: 16px 16px 0 0;\r\n  font-size: 16px;\r\n  font-weight: ${({ $active }) => ($active ? '600' : '400')};\r\n  background-color: ${({ theme, $active }) => ($active ? theme.colors.background : 'transparent')};\r\n  transition: background-color 0.3s ease-out;\r\n`\r\n\r\nconst TabMenu = () => {\r\n  const { t } = useTranslation()\r\n  const { accountAddress } = useParams<{ accountAddress: string }>()\r\n  const { pathname } = useLocation()\r\n  const [achievementsActive, setIsAchievementsActive] = useState(pathname.includes('achievements'))\r\n\r\n  useEffect(() => {\r\n    setIsAchievementsActive(pathname.includes('achievements'))\r\n  }, [pathname])\r\n\r\n  return (\r\n    <Flex>\r\n      <Tab\r\n        onClick={() => setIsAchievementsActive(false)}\r\n        $active={!achievementsActive}\r\n        as={RouterLink}\r\n        to={`${nftsBaseUrl}/profile/${accountAddress}`}\r\n      >\r\n        NFTs\r\n      </Tab>\r\n      <Tab\r\n        onClick={() => setIsAchievementsActive(true)}\r\n        $active={achievementsActive}\r\n        as={RouterLink}\r\n        to={`${nftsBaseUrl}/profile/${accountAddress}/achievements`}\r\n      >\r\n        {t('Achievements')}\r\n      </Tab>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default TabMenu\r\n","import React, { ImgHTMLAttributes } from 'react'\r\nimport styled from 'styled-components'\r\nimport { BunnyPlaceholderIcon } from '@pancakeswap/uikit'\r\n\r\ninterface AchievementAvatarProps extends ImgHTMLAttributes<HTMLImageElement> {\r\n  badge?: string\r\n}\r\n\r\nconst NoBadgePlaceholder = styled(BunnyPlaceholderIcon)`\r\n  height: 48px;\r\n  width: 48px;\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    height: 64px;\r\n    width: 64px;\r\n  }\r\n`\r\n\r\nconst StyledAchievementAvatar = styled.img`\r\n  height: 48px;\r\n  width: 48px;\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    height: 64px;\r\n    width: 64px;\r\n  }\r\n`\r\n\r\nconst AchievementAvatar: React.FC<AchievementAvatarProps> = ({ badge, ...props }) => {\r\n  if (!badge) {\r\n    return <NoBadgePlaceholder />\r\n  }\r\n\r\n  return <StyledAchievementAvatar src={`/images/achievements/${badge}`} alt=\"achievement badge\" {...props} />\r\n}\r\n\r\nexport default AchievementAvatar\r\n","import React from 'react'\r\nimport { Text, TextProps } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { TranslatableText as AchievementTitleType } from 'config/constants/types'\r\n\r\ninterface AchievementTitleProps extends TextProps {\r\n  title: AchievementTitleType\r\n}\r\n\r\nconst AchievementTitle: React.FC<AchievementTitleProps> = ({ title, ...props }) => {\r\n  const { t } = useTranslation()\r\n\r\n  if (typeof title === 'string') {\r\n    return (\r\n      <Text bold {...props}>\r\n        {title}\r\n      </Text>\r\n    )\r\n  }\r\n\r\n  const { key, data = {} } = title\r\n\r\n  return (\r\n    <Text bold {...props}>\r\n      {t(key, data)}\r\n    </Text>\r\n  )\r\n}\r\n\r\nexport default AchievementTitle\r\n","import React from 'react'\r\nimport { Text, TextProps } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { TranslatableText as AchievementDescriptionType } from 'config/constants/types'\r\nimport styled from 'styled-components'\r\n\r\ninterface AchievementDescriptionProps extends TextProps {\r\n  description?: AchievementDescriptionType\r\n}\r\n\r\nconst Description = styled(Text).attrs({ as: 'p', fontSize: '14px' })`\r\n  display: none;\r\n\r\n  ${({ theme }) => theme.mediaQueries.md} {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst AchievementDescription: React.FC<AchievementDescriptionProps> = ({ description, ...props }) => {\r\n  const { t } = useTranslation()\r\n\r\n  if (!description) {\r\n    return null\r\n  }\r\n\r\n  if (typeof description === 'string') {\r\n    return (\r\n      <Text as=\"p\" color=\"textSubtle\" fontSize=\"14px\" {...props}>\r\n        {description}\r\n      </Text>\r\n    )\r\n  }\r\n\r\n  const { key, data = {} } = description\r\n\r\n  return (\r\n    <Description color=\"textSubtle\" {...props}>\r\n      {t(key, data)}\r\n    </Description>\r\n  )\r\n}\r\n\r\nexport default AchievementDescription\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Flex, PrizeIcon, Text } from '@pancakeswap/uikit'\r\nimport { Achievement } from 'state/types'\r\nimport AchievementAvatar from './AchievementAvatar'\r\nimport AchievementTitle from './AchievementTitle'\r\nimport AchievementDescription from './AchievementDescription'\r\n\r\ninterface AchievementCardProps {\r\n  achievement: Achievement\r\n}\r\n\r\nconst Details = styled(Flex)`\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n`\r\n\r\nconst AchievementCard: React.FC<AchievementCardProps> = ({ achievement }) => {\r\n  return (\r\n    <Flex>\r\n      <AchievementAvatar badge={achievement.badge} />\r\n      <Details>\r\n        <AchievementTitle title={achievement.title} />\r\n        <AchievementDescription description={achievement.description} />\r\n      </Details>\r\n      <Flex alignItems=\"center\">\r\n        <PrizeIcon width=\"18px\" color=\"textSubtle\" mr=\"4px\" />\r\n        <Text color=\"textSubtle\">{achievement.points.toLocaleString()}</Text>\r\n      </Flex>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default AchievementCard\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Flex, Heading, Skeleton, useMatchBreakpoints } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { Achievement } from 'state/types'\r\nimport AchievementCard from './AchievementCard'\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-gap: 16px;\r\n  grid-template-columns: 1fr;\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n`\r\n\r\nconst AchievementsList: React.FC<{ achievements: Achievement[]; isLoading: boolean }> = ({\r\n  achievements,\r\n  isLoading,\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const { isMobile } = useMatchBreakpoints()\r\n\r\n  if (isLoading) {\r\n    if (isMobile) {\r\n      return <Skeleton width=\"100%\" height=\"64px\" />\r\n    }\r\n    return <Skeleton width=\"540px\" height=\"64px\" />\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Grid>\r\n        {achievements.map((achievement) => (\r\n          <AchievementCard key={achievement.id} achievement={achievement} />\r\n        ))}\r\n      </Grid>\r\n      {achievements.length === 0 && (\r\n        <Flex alignItems=\"center\" justifyContent=\"center\" style={{ height: '64px' }}>\r\n          <Heading as=\"h5\" scale=\"md\" color=\"textDisabled\">\r\n            {t('No achievements yet!')}\r\n          </Heading>\r\n        </Flex>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AchievementsList\r\n","import React from 'react'\r\nimport { Flex, FlexProps, PrizeIcon, Text } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\n\r\ninterface PointsLabelProps extends FlexProps {\r\n  points: number\r\n}\r\n\r\nconst PointsLabel: React.FC<PointsLabelProps> = ({ points, ...props }) => {\r\n  const { t } = useTranslation()\r\n  const localePoints = points.toLocaleString()\r\n\r\n  return (\r\n    <Flex alignItems=\"center\" {...props}>\r\n      <PrizeIcon mr=\"4px\" color=\"textSubtle\" />\r\n      <Text color=\"textSubtle\">{t('%num% points', { num: localePoints })}</Text>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default PointsLabel\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { AutoRenewIcon, Button, Flex } from '@pancakeswap/uikit'\r\nimport { Achievement } from 'state/types'\r\nimport useToast from 'hooks/useToast'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { usePointCenterIfoContract } from 'hooks/useContract'\r\nimport { useCallWithGasPrice } from 'hooks/useCallWithGasPrice'\r\nimport { ToastDescriptionWithTx } from 'components/Toast'\r\nimport AchievementTitle from 'views/Nft/market/Profile/components/Achievements/AchievementTitle'\r\nimport AchievementAvatar from 'views/Nft/market/Profile/components/Achievements/AchievementAvatar'\r\nimport AchievementDescription from 'views/Nft/market/Profile/components/Achievements/AchievementDescription'\r\nimport PointsLabel from './PointsLabel'\r\n\r\ninterface AchievementRowProps {\r\n  achievement: Achievement\r\n  onCollectSuccess?: (achievement: Achievement) => void\r\n}\r\n\r\nconst ActionColumn = styled.div`\r\n  flex: none;\r\n  width: 100%;\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    max-width: 160px;\r\n\r\n    & > button {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledAchievementRow = styled(Flex)`\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\r\n  padding-bottom: 16px;\r\n  padding-top: 16px;\r\n`\r\n\r\nconst Details = styled.div`\r\n  flex: 1;\r\n`\r\n\r\nconst Body = styled(Flex)`\r\n  flex-direction: column;\r\n  flex: 1;\r\n  margin-left: 8px;\r\n\r\n  ${({ theme }) => theme.mediaQueries.md} {\r\n    align-items: center;\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nconst AchievementRow: React.FC<AchievementRowProps> = ({ achievement, onCollectSuccess }) => {\r\n  const [isCollecting, setIsCollecting] = useState(false)\r\n  const { t } = useTranslation()\r\n  const pointCenterContract = usePointCenterIfoContract()\r\n  const { toastError, toastSuccess } = useToast()\r\n  const { callWithGasPrice } = useCallWithGasPrice()\r\n\r\n  const handleCollectPoints = async () => {\r\n    try {\r\n      const tx = await callWithGasPrice(pointCenterContract, 'getPoints', [achievement.address])\r\n      setIsCollecting(true)\r\n      const receipt = await tx.wait()\r\n      if (receipt.status) {\r\n        onCollectSuccess(achievement)\r\n        toastSuccess(t('Points Collected!'), <ToastDescriptionWithTx txHash={receipt.transactionHash} />)\r\n      } else {\r\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\r\n      }\r\n    } catch (error) {\r\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\r\n    } finally {\r\n      setIsCollecting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledAchievementRow>\r\n      <AchievementAvatar badge={achievement.badge} />\r\n      <Body>\r\n        <Details>\r\n          <AchievementTitle title={achievement.title} />\r\n          <AchievementDescription description={achievement.description} />\r\n        </Details>\r\n        <PointsLabel points={achievement.points} px={[0, null, null, '32px']} mb={['16px', null, null, 0]} />\r\n        <ActionColumn>\r\n          <Button\r\n            onClick={handleCollectPoints}\r\n            isLoading={isCollecting}\r\n            endIcon={isCollecting ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\r\n            disabled={isCollecting}\r\n            variant=\"secondary\"\r\n          >\r\n            {t('Collect')}\r\n          </Button>\r\n        </ActionColumn>\r\n      </Body>\r\n    </StyledAchievementRow>\r\n  )\r\n}\r\n\r\nexport default AchievementRow\r\n","import React, { useEffect, useState } from 'react'\r\nimport { sumBy } from 'lodash'\r\nimport { useAppDispatch } from 'state'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { Card, CardBody, CardHeader, Flex, Heading, PrizeIcon } from '@pancakeswap/uikit'\r\nimport { useProfile } from 'state/profile/hooks'\r\nimport { Achievement } from 'state/types'\r\nimport { addPoints } from 'state/profile'\r\nimport { addAchievement } from 'state/achievements'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { getClaimableIfoData } from 'utils/achievements'\r\nimport AchievementRow from './AchievementRow'\r\n\r\nconst ClaimPointsCallout = () => {\r\n  const [claimableAchievements, setClaimableAchievement] = useState<Achievement[]>([])\r\n  const { t } = useTranslation()\r\n  const dispatch = useAppDispatch()\r\n  const { profile } = useProfile()\r\n  const { account } = useWeb3React()\r\n\r\n  useEffect(() => {\r\n    const fetchIfoClaims = async () => {\r\n      const ifoData = await getClaimableIfoData(account)\r\n      setClaimableAchievement(ifoData)\r\n    }\r\n\r\n    if (account) {\r\n      fetchIfoClaims()\r\n    }\r\n  }, [account, dispatch, setClaimableAchievement])\r\n\r\n  const handleCollectSuccess = (achievement: Achievement) => {\r\n    dispatch(addAchievement(achievement))\r\n    dispatch(addPoints(achievement.points))\r\n\r\n    setClaimableAchievement((prevClaimableAchievements) =>\r\n      prevClaimableAchievements.filter((prevClaimableAchievement) => prevClaimableAchievement.id !== achievement.id),\r\n    )\r\n  }\r\n\r\n  if (!profile?.isActive) {\r\n    return null\r\n  }\r\n\r\n  if (claimableAchievements.length === 0) {\r\n    return null\r\n  }\r\n\r\n  const totalPointsToCollect = sumBy(claimableAchievements, 'points')\r\n\r\n  return (\r\n    <Card isActive mb=\"32px\">\r\n      <CardHeader>\r\n        <Flex flexDirection={['column', null, 'row']} justifyContent={['start', null, 'space-between']}>\r\n          <Flex alignItems=\"center\" mb={['16px', null, 0]}>\r\n            <PrizeIcon width=\"32px\" mr=\"8px\" />\r\n            <Heading scale=\"lg\">{t('%num% Points to Collect', { num: totalPointsToCollect })}</Heading>\r\n          </Flex>\r\n        </Flex>\r\n      </CardHeader>\r\n      <CardBody>\r\n        {claimableAchievements.map((achievement) => (\r\n          <AchievementRow key={achievement.address} achievement={achievement} onCollectSuccess={handleCollectSuccess} />\r\n        ))}\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ClaimPointsCallout\r\n","import React from 'react'\r\nimport { Card, CardBody, Heading, PrizeIcon } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport IconStatBox from 'views/Teams/components/IconStatBox'\r\nimport { Achievement } from 'state/types'\r\nimport AchievementsList from './AchievementsList'\r\nimport ClaimPointsCallout from './ClaimPointsCallout'\r\n\r\nconst Achievements: React.FC<{ achievements: Achievement[]; isLoading: boolean; points?: number }> = ({\r\n  achievements,\r\n  isLoading,\r\n  points = 0,\r\n}) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <IconStatBox icon={PrizeIcon} title={points} subtitle={t('Points')} mb=\"24px\" />\r\n        <Heading as=\"h4\" scale=\"md\" mb=\"16px\">\r\n          {t('Achievements')}\r\n        </Heading>\r\n        <ClaimPointsCallout />\r\n        <AchievementsList achievements={achievements} isLoading={isLoading} />\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Achievements\r\n","import React from 'react'\r\nimport { Text, TextProps } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { MarketEvent } from '../../utils/sortUserActivity'\r\n\r\ninterface ActivityEventTextProps extends TextProps {\r\n  marketEvent: MarketEvent\r\n}\r\n\r\nconst ActivityEventText: React.FC<ActivityEventTextProps> = ({ marketEvent, ...props }) => {\r\n  const { t } = useTranslation()\r\n\r\n  const events = {\r\n    [MarketEvent.NEW]: {\r\n      text: t('Listed'),\r\n      color: 'textSubtle',\r\n    },\r\n    [MarketEvent.CANCEL]: {\r\n      text: t('Delisted'),\r\n      color: 'textSubtle',\r\n    },\r\n    [MarketEvent.MODIFY]: {\r\n      text: t('Modified'),\r\n      color: 'textSubtle',\r\n    },\r\n    [MarketEvent.BUY]: {\r\n      text: t('Bought'),\r\n      color: 'success',\r\n    },\r\n    [MarketEvent.SELL]: {\r\n      text: t('Sold'),\r\n      color: 'failure',\r\n    },\r\n  }\r\n\r\n  return (\r\n    <Text {...props} color={events[marketEvent].color}>\r\n      {events[marketEvent].text}\r\n    </Text>\r\n  )\r\n}\r\n\r\nexport default ActivityEventText\r\n","import React from 'react'\r\nimport { Flex, BinanceIcon, Text } from '@pancakeswap/uikit'\r\nimport { multiplyPriceByAmount } from 'utils/prices'\r\n\r\nconst ActivityPrice = ({ bnbBusdPrice, price }) => {\r\n  const priceInUsd = multiplyPriceByAmount(bnbBusdPrice, price)\r\n\r\n  return (\r\n    <Flex flexDirection=\"column\" alignItems=\"flex-end\">\r\n      {price ? (\r\n        <>\r\n          <Flex justifySelf=\"flex-start\" alignItems=\"center\">\r\n            <BinanceIcon width=\"12px\" height=\"12px\" mr=\"4px\" />\r\n            <Text maxWidth=\"80px\" bold>\r\n              {price.toLocaleString(undefined, {\r\n                minimumFractionDigits: 0,\r\n                maximumFractionDigits: 5,\r\n              })}\r\n            </Text>\r\n          </Flex>\r\n          <Text fontSize=\"12px\" color=\"textSubtle\">\r\n            {`(~$${priceInUsd.toLocaleString(undefined, {\r\n              minimumFractionDigits: 2,\r\n              maximumFractionDigits: 2,\r\n            })})`}\r\n          </Text>\r\n        </>\r\n      ) : (\r\n        '-'\r\n      )}\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default ActivityPrice\r\n","import React from 'react'\r\nimport { InjectedModalProps, Modal, Flex, Text, Button, Image, Link, BinanceIcon } from '@pancakeswap/uikit'\r\nimport { Price } from '@pancakeswap/sdk'\r\nimport useTheme from 'hooks/useTheme'\r\nimport styled from 'styled-components'\r\nimport { NftToken } from 'state/nftMarket/types'\r\nimport { LightGreyCard } from 'components/Card'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport truncateHash from 'utils/truncateHash'\r\nimport { multiplyPriceByAmount } from 'utils/prices'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport { getBscScanLink } from 'utils'\r\nimport { Activity } from '../../utils/sortUserActivity'\r\nimport ActivityEventText from './ActivityEventText'\r\n\r\nconst RoundedImage = styled(Image)`\r\n  & > img {\r\n    border-radius: ${({ theme }) => theme.radii.default};\r\n  }\r\n`\r\n\r\ninterface MobileModalProps extends InjectedModalProps {\r\n  activity: Activity\r\n  nft: NftToken\r\n  bnbBusdPrice: Price\r\n  localeTimestamp: string\r\n}\r\n\r\nconst MobileModal: React.FC<MobileModalProps> = ({ nft, activity, bnbBusdPrice, localeTimestamp, onDismiss }) => {\r\n  const { chainId } = useActiveWeb3React()\r\n  const { t } = useTranslation()\r\n  const { theme } = useTheme()\r\n  const priceAsFloat = parseFloat(activity.price)\r\n  const priceInUsd = multiplyPriceByAmount(bnbBusdPrice, priceAsFloat)\r\n\r\n  return (\r\n    <Modal title={t('Transaction Details')} onDismiss={onDismiss} headerBackground={theme.colors.gradients.cardHeader}>\r\n      <Flex flexDirection=\"column\" maxWidth=\"350px\">\r\n        <Flex alignItems=\"center\" mb=\"16px\">\r\n          <RoundedImage src={nft.image.thumbnail} height={68} width={68} mr=\"16px\" />\r\n          <Flex flexDirection=\"column\">\r\n            <Text fontSize=\"12px\" color=\"textSubtle\" textAlign=\"right\">\r\n              {nft.collectionName}\r\n            </Text>\r\n            <Text bold>{nft.name}</Text>\r\n          </Flex>\r\n        </Flex>\r\n        <LightGreyCard p=\"16px\">\r\n          <Flex mb=\"24px\" justifyContent=\"space-between\">\r\n            <ActivityEventText fontSize=\"14px\" marketEvent={activity.marketEvent} />\r\n            {priceAsFloat ? (\r\n              <Flex justifyContent=\"flex-end\" alignItems=\"center\">\r\n                <BinanceIcon width=\"12px\" height=\"12px\" mr=\"4px\" />\r\n                <Text mr=\"4px\" bold>\r\n                  {priceAsFloat}\r\n                </Text>\r\n                <Text color=\"textSubtle\">\r\n                  {`(~$${priceInUsd.toLocaleString(undefined, {\r\n                    minimumFractionDigits: 2,\r\n                    maximumFractionDigits: 2,\r\n                  })}`}\r\n                </Text>\r\n              </Flex>\r\n            ) : (\r\n              '-'\r\n            )}\r\n          </Flex>\r\n          <Flex mb=\"24px\" justifyContent=\"space-between\">\r\n            <Text fontSize=\"14px\" color=\"textSubtle\">\r\n              {t('From/To')}\r\n            </Text>\r\n            <Text>{activity.otherParty ? truncateHash(activity.otherParty) : '-'}</Text>\r\n          </Flex>\r\n          <Flex justifyContent=\"space-between\">\r\n            <Text fontSize=\"14px\" color=\"textSubtle\">\r\n              {t('Date')}\r\n            </Text>\r\n            <Text>{localeTimestamp}</Text>\r\n          </Flex>\r\n        </LightGreyCard>\r\n        <Flex flexDirection=\"column\" pt=\"16px\" alignItems=\"center\">\r\n          <Button as={Link} external href={getBscScanLink(activity.tx, 'transaction', chainId)}>\r\n            {t('View on BscScan')}\r\n          </Button>\r\n        </Flex>\r\n      </Flex>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default MobileModal\r\n","import React from 'react'\r\nimport { Image, Flex, Text, Td, IconButton, Link, OpenNewIcon, useMatchBreakpoints, useModal } from '@pancakeswap/uikit'\r\nimport { NftToken } from 'state/nftMarket/types'\r\nimport { Price } from '@pancakeswap/sdk'\r\nimport styled from 'styled-components'\r\nimport { getBscScanLink } from 'utils'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport ProfileCell from 'views/Nft/market/components/ProfileCell'\r\nimport { Activity } from '../../utils/sortUserActivity'\r\nimport ActivityEventText from './ActivityEventText'\r\nimport ActivityPrice from './ActivityPrice'\r\nimport MobileModal from './MobileModal'\r\n\r\nconst RoundedImage = styled(Image)`\r\n  & > img {\r\n    border-radius: ${({ theme }) => theme.radii.default};\r\n  }\r\n`\r\n\r\ninterface ActivityRowProps {\r\n  activity: Activity\r\n  nft: NftToken\r\n  bnbBusdPrice: Price\r\n}\r\n\r\nconst ActivityRow: React.FC<ActivityRowProps> = ({ activity, bnbBusdPrice, nft }) => {\r\n  const { chainId } = useActiveWeb3React()\r\n  const { isXs, isSm } = useMatchBreakpoints()\r\n  const priceAsFloat = parseFloat(activity.price)\r\n  const timestampAsMs = parseFloat(activity.timestamp) * 1000\r\n  const localeTimestamp = new Date(timestampAsMs).toLocaleString(undefined, {\r\n    year: 'numeric',\r\n    month: 'numeric',\r\n    day: 'numeric',\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n  })\r\n  const [onPresentMobileModal] = useModal(\r\n    <MobileModal nft={nft} activity={activity} localeTimestamp={localeTimestamp} bnbBusdPrice={bnbBusdPrice} />,\r\n  )\r\n\r\n  return (\r\n    <tr {...((isXs || isSm) && { onClick: onPresentMobileModal })}>\r\n      <Td>\r\n        <Flex justifyContent=\"flex-start\" alignItems=\"center\" flexDirection={['column', null, 'row']}>\r\n          <RoundedImage\r\n            src={nft?.image.thumbnail}\r\n            alt={nft?.name}\r\n            width={64}\r\n            height={64}\r\n            mr={[0, null, '16px']}\r\n            mb={['8px', null, 0]}\r\n          />\r\n          <Flex flexDirection=\"column\">\r\n            <Text textAlign={['center', null, 'left']} color=\"textSubtle\" fontSize=\"14px\">\r\n              {nft?.collectionName}\r\n            </Text>\r\n            <Text textAlign={['center', null, 'left']} bold>\r\n              {nft?.name}\r\n            </Text>\r\n          </Flex>\r\n        </Flex>\r\n      </Td>\r\n      <Td>\r\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\r\n          <ActivityEventText marketEvent={activity.marketEvent} />\r\n        </Flex>\r\n        {isXs || isSm ? <ActivityPrice price={priceAsFloat} bnbBusdPrice={bnbBusdPrice} /> : null}\r\n      </Td>\r\n      {isXs || isSm ? null : (\r\n        <>\r\n          <Td>\r\n            <ActivityPrice price={priceAsFloat} bnbBusdPrice={bnbBusdPrice} />\r\n          </Td>\r\n          <Td>\r\n            <Flex justifyContent=\"flex-end\" alignItems=\"center\">\r\n              {activity.otherParty ? <ProfileCell accountAddress={activity.otherParty} /> : '-'}\r\n            </Flex>\r\n          </Td>\r\n        </>\r\n      )}\r\n      <Td>\r\n        <Flex justifyContent=\"center\">\r\n          <Text textAlign=\"center\" fontSize={isXs || isSm ? '12px' : '16px'}>\r\n            {localeTimestamp}\r\n          </Text>\r\n        </Flex>\r\n      </Td>\r\n      {isXs || isSm ? null : (\r\n        <Td>\r\n          <IconButton as={Link} external href={getBscScanLink(activity.tx, 'transaction', chainId)}>\r\n            <OpenNewIcon color=\"textSubtle\" width=\"18px\" />\r\n          </IconButton>\r\n        </Td>\r\n      )}\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default ActivityRow\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Flex, Skeleton, Td, useMatchBreakpoints } from '@pancakeswap/uikit'\r\n\r\nconst GridItem = styled(Flex)`\r\n  align-items: center;\r\n`\r\n\r\nconst LoadingRow: React.FC = () => {\r\n  const { isXs, isSm } = useMatchBreakpoints()\r\n\r\n  return (\r\n    <tr>\r\n      <Td>\r\n        <GridItem>\r\n          <Skeleton height={[162, null, 64]} width={[80, null, 200]} />\r\n        </GridItem>\r\n      </Td>\r\n      <Td>\r\n        <GridItem justifyContent=\"flex-end\">\r\n          <Skeleton height={[66, null, 24]} width={64} />\r\n        </GridItem>\r\n      </Td>\r\n      {isXs || isSm ? null : (\r\n        <>\r\n          <Td>\r\n            <GridItem justifyContent=\"flex-end\">\r\n              <Skeleton height={42} width={64} />\r\n            </GridItem>\r\n          </Td>\r\n          <Td>\r\n            <GridItem justifyContent=\"flex-end\">\r\n              <Skeleton height={48} width={124} />\r\n            </GridItem>\r\n          </Td>\r\n        </>\r\n      )}\r\n      <Td>\r\n        <GridItem justifyContent=\"center\">\r\n          <Skeleton height={[36, null, 24]} width={[80, null, 120]} />\r\n        </GridItem>\r\n      </Td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nconst TableLoader: React.FC = () => (\r\n  <>\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n    <LoadingRow />\r\n  </>\r\n)\r\n\r\nexport default TableLoader\r\n","import styled from 'styled-components'\r\n\r\nconst NoNftsImage = styled.div`\r\n  background: url('/images/nfts/no-profile-md.png');\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  width: 96px;\r\n  height: 96px;\r\n\r\n  & > img {\r\n    border-radius: 50%;\r\n  }\r\n`\r\n\r\nexport default NoNftsImage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { uniqBy } from 'lodash'\r\nimport { isAddress } from 'utils'\r\nimport { fetchUserActivity } from 'state/nftMarket/reducer'\r\nimport { useAppDispatch } from 'state'\r\nimport { useUserNfts } from 'state/nftMarket/hooks'\r\nimport { ArrowBackIcon, ArrowForwardIcon, Card, Flex, Table, Text, Th, useMatchBreakpoints } from '@pancakeswap/uikit'\r\nimport { getNftsFromDifferentCollectionsApi, getUserActivity } from 'state/nftMarket/helpers'\r\nimport { NftToken, TokenIdWithCollectionAddress, UserNftInitializationState } from 'state/nftMarket/types'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { useParams } from 'react-router'\r\nimport { Activity, sortUserActivity } from '../../utils/sortUserActivity'\r\nimport ActivityRow from './ActivityRow'\r\nimport TableLoader from './TableLoader'\r\nimport NoNftsImage from '../NoNftsImage'\r\nimport { Arrow, PageButtons } from '../../../components/PaginationButtons'\r\n\r\nconst MAX_PER_PAGE = 8\r\n\r\nconst ActivityHistory = () => {\r\n  const { account } = useWeb3React()\r\n  const dispatch = useAppDispatch()\r\n  const { accountAddress } = useParams<{ accountAddress: string }>()\r\n  const { theme } = useTheme()\r\n  const { t } = useTranslation()\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [maxPage, setMaxPages] = useState(1)\r\n  const [activitiesSlice, setActivitiesSlice] = useState<Activity[]>([])\r\n  const [nftMetadata, setNftMetadata] = useState<NftToken[]>([])\r\n  const [sortedUserActivities, setSortedUserActivities] = useState<Activity[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const { activity: userActivity } = useUserNfts()\r\n  const bnbBusdPrice = useBNBBusdPrice()\r\n  const { isXs, isSm } = useMatchBreakpoints()\r\n\r\n  useEffect(() => {\r\n    if (account && userActivity.initializationState === UserNftInitializationState.INITIALIZED) {\r\n      const differentAddress =\r\n        accountAddress && isAddress(accountAddress)\r\n          ? account.toLowerCase() !== accountAddress.toLocaleLowerCase()\r\n          : false\r\n      if (!differentAddress) {\r\n        setSortedUserActivities(sortUserActivity(account, userActivity))\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n  }, [account, userActivity, accountAddress])\r\n\r\n  useEffect(() => {\r\n    const fetchAddressActivity = async () => {\r\n      try {\r\n        const addressActivity = await getUserActivity(accountAddress.toLocaleLowerCase())\r\n        setSortedUserActivities(sortUserActivity(accountAddress, addressActivity))\r\n        setIsLoading(false)\r\n      } catch (error) {\r\n        console.error('Failed to fetch address activity', error)\r\n      }\r\n    }\r\n\r\n    if (account) {\r\n      const differentAddress =\r\n        accountAddress && isAddress(accountAddress)\r\n          ? account.toLowerCase() !== accountAddress.toLocaleLowerCase()\r\n          : false\r\n      if (differentAddress) {\r\n        fetchAddressActivity()\r\n      } else {\r\n        dispatch(fetchUserActivity(account))\r\n      }\r\n    } else if (accountAddress && isAddress(accountAddress)) {\r\n      fetchAddressActivity()\r\n    }\r\n  }, [account, accountAddress, dispatch])\r\n\r\n  useEffect(() => {\r\n    const fetchActivityNftMetadata = async () => {\r\n      const activityNftTokenIds = uniqBy(\r\n        sortedUserActivities.map((activity): TokenIdWithCollectionAddress => {\r\n          return { tokenId: activity.nft.tokenId, collectionAddress: activity.nft.collection.id }\r\n        }),\r\n        'tokenId',\r\n      )\r\n      const nfts = await getNftsFromDifferentCollectionsApi(activityNftTokenIds)\r\n      setNftMetadata(nfts)\r\n    }\r\n\r\n    const getMaxPages = () => {\r\n      const max = Math.ceil(sortedUserActivities.length / MAX_PER_PAGE)\r\n      setMaxPages(max)\r\n    }\r\n\r\n    if (sortedUserActivities.length > 0) {\r\n      getMaxPages()\r\n      fetchActivityNftMetadata()\r\n    }\r\n\r\n    return () => {\r\n      setActivitiesSlice([])\r\n      setNftMetadata([])\r\n      setMaxPages(1)\r\n      setCurrentPage(1)\r\n    }\r\n  }, [sortedUserActivities])\r\n\r\n  useEffect(() => {\r\n    const getActivitiesSlice = () => {\r\n      const slice = sortedUserActivities.slice(MAX_PER_PAGE * (currentPage - 1), MAX_PER_PAGE * currentPage)\r\n      setActivitiesSlice(slice)\r\n    }\r\n    if (sortedUserActivities.length > 0) {\r\n      getActivitiesSlice()\r\n    }\r\n  }, [sortedUserActivities, currentPage])\r\n\r\n  return (\r\n    <Card>\r\n      {sortedUserActivities.length === 0 && nftMetadata.length === 0 && activitiesSlice.length === 0 && !isLoading ? (\r\n        <Flex p=\"24px\" flexDirection=\"column\" alignItems=\"center\">\r\n          <NoNftsImage />\r\n          <Text pt=\"8px\" bold>\r\n            {t('No NFT market history found')}\r\n          </Text>\r\n        </Flex>\r\n      ) : (\r\n        <>\r\n          <Table>\r\n            <thead>\r\n              <tr>\r\n                <Th textAlign={['center', null, 'left']}> {t('Item')}</Th>\r\n                <Th textAlign=\"right\"> {t('Event')}</Th>\r\n                {isXs || isSm ? null : (\r\n                  <>\r\n                    <Th textAlign=\"right\"> {t('Price')}</Th>\r\n                    <Th textAlign=\"right\"> {t('From/To')}</Th>\r\n                  </>\r\n                )}\r\n                <Th textAlign=\"center\"> {t('Date')}</Th>\r\n                {isXs || isSm ? null : <Th />}\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {isLoading ? (\r\n                <TableLoader />\r\n              ) : (\r\n                activitiesSlice.map((activity) => {\r\n                  const nftMeta = nftMetadata.find((metaNft) => metaNft.tokenId === activity.nft.tokenId)\r\n                  return (\r\n                    <ActivityRow\r\n                      key={`${activity.nft.tokenId}${activity.timestamp}`}\r\n                      activity={activity}\r\n                      nft={nftMeta}\r\n                      bnbBusdPrice={bnbBusdPrice}\r\n                    />\r\n                  )\r\n                })\r\n              )}\r\n            </tbody>\r\n          </Table>\r\n          <Flex\r\n            borderTop={`1px ${theme.colors.cardBorder} solid`}\r\n            pt=\"24px\"\r\n            flexDirection=\"column\"\r\n            justifyContent=\"space-between\"\r\n            height=\"100%\"\r\n          >\r\n            <PageButtons>\r\n              <Arrow\r\n                onClick={() => {\r\n                  setCurrentPage(currentPage === 1 ? currentPage : currentPage - 1)\r\n                }}\r\n              >\r\n                <ArrowBackIcon color={currentPage === 1 ? 'textDisabled' : 'primary'} />\r\n              </Arrow>\r\n              <Text>{t('Page %page% of %maxPage%', { page: currentPage, maxPage })}</Text>\r\n              <Arrow\r\n                onClick={() => {\r\n                  setCurrentPage(currentPage === maxPage ? currentPage : currentPage + 1)\r\n                }}\r\n              >\r\n                <ArrowForwardIcon color={currentPage === maxPage ? 'textDisabled' : 'primary'} />\r\n              </Arrow>\r\n            </PageButtons>\r\n          </Flex>\r\n        </>\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ActivityHistory\r\n","import React from 'react'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { useLocation, useParams } from 'react-router'\r\nimport BaseSubMenu from '../../components/BaseSubMenu'\r\nimport { nftsBaseUrl } from '../../constants'\r\n\r\nconst SubMenuComponent: React.FC = () => {\r\n  const { t } = useTranslation()\r\n  const { accountAddress } = useParams<{ accountAddress: string }>()\r\n  const { pathname } = useLocation()\r\n\r\n  const ItemsConfig = [\r\n    {\r\n      label: t('Items'),\r\n      href: `${nftsBaseUrl}/profile/${accountAddress}`,\r\n    },\r\n    {\r\n      label: t('Activity'),\r\n      href: `${nftsBaseUrl}/profile/${accountAddress}/activity`,\r\n    },\r\n  ]\r\n\r\n  return <BaseSubMenu items={ItemsConfig} activeItem={pathname} justifyContent=\"flex-start\" mb=\"60px\" />\r\n}\r\n\r\nexport default SubMenuComponent\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Grid, useModal, Text, Flex } from '@pancakeswap/uikit'\r\nimport { useUserNfts } from 'state/nftMarket/hooks'\r\nimport { NftLocation, UserNftInitializationState, NftToken } from 'state/nftMarket/types'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { CollectibleActionCard } from '../../components/CollectibleCard'\r\nimport GridPlaceholder from '../../components/GridPlaceholder'\r\nimport ProfileNftModal from '../../components/ProfileNftModal'\r\nimport NoNftsImage from './NoNftsImage'\r\nimport SellModal from '../../components/BuySellModals/SellModal'\r\n\r\ninterface ProfileNftProps {\r\n  nft: NftToken\r\n  location: NftLocation\r\n}\r\n\r\ninterface SellNftProps {\r\n  nft: NftToken\r\n  location: NftLocation\r\n  variant: 'sell' | 'edit'\r\n}\r\n\r\nconst UserNfts = () => {\r\n  const { nfts, userNftsInitializationState } = useUserNfts()\r\n  const [clickedProfileNft, setClickedProfileNft] = useState<ProfileNftProps>({ nft: null, location: null })\r\n  const [clickedSellNft, setClickedSellNft] = useState<SellNftProps>({ nft: null, location: null, variant: null })\r\n  const [onPresentProfileNftModal] = useModal(<ProfileNftModal nft={clickedProfileNft.nft} />)\r\n  const [onPresentSellModal] = useModal(<SellModal variant={clickedSellNft.variant} nftToSell={clickedSellNft.nft} />)\r\n  const { t } = useTranslation()\r\n\r\n  const handleCollectibleClick = (nft: NftToken, location: NftLocation) => {\r\n    switch (location) {\r\n      case NftLocation.PROFILE:\r\n        setClickedProfileNft({ nft, location })\r\n        break\r\n      case NftLocation.WALLET:\r\n        setClickedSellNft({ nft, location, variant: 'sell' })\r\n        break\r\n      case NftLocation.FORSALE:\r\n        setClickedSellNft({ nft, location, variant: 'edit' })\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (clickedProfileNft.nft) {\r\n      onPresentProfileNftModal()\r\n    }\r\n    // exhaustive deps disabled as the useModal dep causes re-render loop\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clickedProfileNft])\r\n\r\n  useEffect(() => {\r\n    if (clickedSellNft.nft) {\r\n      onPresentSellModal()\r\n    }\r\n    // exhaustive deps disabled as the useModal dep causes re-render loop\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clickedSellNft])\r\n\r\n  return (\r\n    <>\r\n      {/* User has no NFTs */}\r\n      {nfts.length === 0 && userNftsInitializationState === UserNftInitializationState.INITIALIZED ? (\r\n        <Flex p=\"24px\" flexDirection=\"column\" alignItems=\"center\">\r\n          <NoNftsImage />\r\n          <Text pt=\"8px\" bold>\r\n            {t('No NFTs found')}\r\n          </Text>\r\n        </Flex>\r\n      ) : // User has NFTs and data has been fetched\r\n      nfts.length > 0 ? (\r\n        <Grid\r\n          gridGap=\"16px\"\r\n          gridTemplateColumns={['1fr', 'repeat(2, 1fr)', 'repeat(3, 1fr)', null, 'repeat(4, 1fr)']}\r\n          alignItems=\"start\"\r\n        >\r\n          {nfts.map((nft) => {\r\n            const { marketData, location } = nft\r\n\r\n            return (\r\n              <CollectibleActionCard\r\n                isUserNft\r\n                onClick={() => handleCollectibleClick(nft, location)}\r\n                key={`${nft.tokenId}-${nft.collectionName}`}\r\n                nft={nft}\r\n                currentAskPrice={\r\n                  marketData?.currentAskPrice && marketData?.isTradable && parseFloat(marketData.currentAskPrice)\r\n                }\r\n                nftLocation={location}\r\n              />\r\n            )\r\n          })}\r\n        </Grid>\r\n      ) : (\r\n        // User NFT data hasn't been fetched\r\n        <GridPlaceholder />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserNfts\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useProfile } from 'state/profile/hooks'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { Box } from '@pancakeswap/uikit'\r\nimport Page from 'components/Layout/Page'\r\nimport { Route } from 'react-router'\r\nimport { useUserNfts } from 'state/nftMarket/hooks'\r\nimport { nftsBaseUrl } from 'views/Nft/market/constants'\r\nimport { useAchievements, useFetchAchievements } from 'state/achievements/hooks'\r\nimport { AchievementFetchStatus } from 'state/types'\r\nimport { UserNftInitializationState } from 'state/nftMarket/types'\r\nimport useFetchUserNfts from './hooks/useFetchUserNfts'\r\nimport MarketPageHeader from '../components/MarketPageHeader'\r\nimport ProfileHeader from './components/ProfileHeader'\r\nimport TabMenu from './components/TabMenu'\r\nimport Achievements from './components/Achievements'\r\nimport ActivityHistory from './components/ActivityHistory'\r\nimport SubMenu from './components/SubMenu'\r\nimport UserNfts from './components/UserNfts'\r\n\r\nconst TabMenuWrapper = styled(Box)`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, 0%);\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    left: auto;\r\n    transform: none;\r\n  }\r\n`\r\n\r\nconst ConnectedProfile = () => {\r\n  const { profile, isLoading: isProfileLoading } = useProfile()\r\n  const { achievements, achievementFetchStatus } = useAchievements()\r\n  const { account } = useWeb3React()\r\n  const { userNftsInitializationState, nfts: userNfts } = useUserNfts()\r\n\r\n  useFetchAchievements()\r\n  useFetchUserNfts()\r\n\r\n  return (\r\n    <>\r\n      <MarketPageHeader position=\"relative\">\r\n        <ProfileHeader\r\n          accountPath={account}\r\n          profile={profile}\r\n          achievements={achievements}\r\n          nftCollected={userNfts.length}\r\n          isProfileLoading={isProfileLoading}\r\n          isNftLoading={userNftsInitializationState !== UserNftInitializationState.INITIALIZED}\r\n          isAchievementsLoading={achievementFetchStatus !== AchievementFetchStatus.FETCHED}\r\n        />\r\n        <TabMenuWrapper>\r\n          <TabMenu />\r\n        </TabMenuWrapper>\r\n      </MarketPageHeader>\r\n      <Page style={{ minHeight: 'auto' }}>\r\n        <Route path={`${nftsBaseUrl}/profile/:accountAddress/achievements`}>\r\n          <Achievements\r\n            achievements={achievements}\r\n            isLoading={achievementFetchStatus !== AchievementFetchStatus.FETCHED}\r\n            points={profile?.points}\r\n          />\r\n        </Route>\r\n        <Route path={`${nftsBaseUrl}/profile/:accountAddress/activity`}>\r\n          <SubMenu />\r\n          <ActivityHistory />\r\n        </Route>\r\n        <Route exact path={`${nftsBaseUrl}/profile/:accountAddress`}>\r\n          <SubMenu />\r\n          <UserNfts />\r\n        </Route>\r\n      </Page>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ConnectedProfile\r\n","import { useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from 'state'\r\nimport { State, AchievementState } from '../types'\r\nimport { fetchAchievements } from '.'\r\n\r\nexport const useFetchAchievements = () => {\r\n  const { account } = useWeb3React()\r\n  const dispatch = useAppDispatch()\r\n\r\n  useEffect(() => {\r\n    if (account) {\r\n      dispatch(fetchAchievements(account))\r\n    }\r\n  }, [account, dispatch])\r\n}\r\n\r\nexport const useAchievements = () => {\r\n  const achievements: AchievementState = useSelector((state: State) => state.achievements)\r\n  return achievements\r\n}\r\n","import { useEffect, useMemo, useState } from 'react'\r\nimport isEmpty from 'lodash/isEmpty'\r\nimport { useGetCollections } from 'state/nftMarket/hooks'\r\nimport { NftLocation, NftToken } from 'state/nftMarket/types'\r\nimport { Profile } from 'state/types'\r\nimport { getCompleteAccountNftData } from 'state/nftMarket/helpers'\r\n\r\nconst useNftsForAddress = (account: string, profile: Profile, isProfileFetching: boolean) => {\r\n  const [combinedNfts, setCombinedNfts] = useState<NftToken[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const collections = useGetCollections()\r\n\r\n  const hasProfileNft = profile?.tokenId\r\n  const profileNftTokenId = profile?.tokenId?.toString()\r\n  const profileNftCollectionAddress = profile?.collectionAddress\r\n\r\n  const profileNftWithCollectionAddress = useMemo(() => {\r\n    if (hasProfileNft) {\r\n      return {\r\n        tokenId: profileNftTokenId,\r\n        collectionAddress: profileNftCollectionAddress,\r\n        nftLocation: NftLocation.PROFILE,\r\n      }\r\n    }\r\n    return null\r\n  }, [profileNftTokenId, profileNftCollectionAddress, hasProfileNft])\r\n\r\n  useEffect(() => {\r\n    const getNfts = async () => {\r\n      const completeNftData = await getCompleteAccountNftData(account, collections, profileNftWithCollectionAddress)\r\n      setCombinedNfts(completeNftData)\r\n      setIsLoading(false)\r\n    }\r\n\r\n    if (!isProfileFetching && !isEmpty(collections)) {\r\n      setIsLoading(true)\r\n      getNfts()\r\n    }\r\n  }, [account, collections, isProfileFetching, profileNftWithCollectionAddress])\r\n\r\n  return { nfts: combinedNfts, isLoading }\r\n}\r\n\r\nexport default useNftsForAddress\r\n","import React from 'react'\r\nimport { Grid, Text, Flex } from '@pancakeswap/uikit'\r\nimport { NftToken } from 'state/nftMarket/types'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { CollectibleLinkCard } from '../../components/CollectibleCard'\r\nimport GridPlaceholder from '../../components/GridPlaceholder'\r\nimport NoNftsImage from './NoNftsImage'\r\n\r\nconst UserNfts: React.FC<{ nfts: NftToken[]; isLoading: boolean }> = ({ nfts, isLoading }) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <>\r\n      {/* User has no NFTs */}\r\n      {nfts.length === 0 && !isLoading ? (\r\n        <Flex p=\"24px\" flexDirection=\"column\" alignItems=\"center\">\r\n          <NoNftsImage />\r\n          <Text pt=\"8px\" bold>\r\n            {t('No NFTs found')}\r\n          </Text>\r\n        </Flex>\r\n      ) : // User has NFTs and data has been fetched\r\n      nfts.length > 0 ? (\r\n        <Grid\r\n          gridGap=\"16px\"\r\n          gridTemplateColumns={['1fr', 'repeat(2, 1fr)', 'repeat(3, 1fr)', null, 'repeat(4, 1fr)']}\r\n          alignItems=\"start\"\r\n        >\r\n          {nfts.map((nft) => {\r\n            const { marketData } = nft\r\n\r\n            return (\r\n              <CollectibleLinkCard\r\n                key={`${nft.tokenId}-${nft.collectionName}`}\r\n                nft={nft}\r\n                currentAskPrice={\r\n                  marketData?.currentAskPrice && marketData?.isTradable && parseFloat(marketData.currentAskPrice)\r\n                }\r\n              />\r\n            )\r\n          })}\r\n        </Grid>\r\n      ) : (\r\n        // User NFT data hasn't been fetched\r\n        <GridPlaceholder />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserNfts\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useAchievementsForAddress, useProfileForAddress } from 'state/profile/hooks'\r\nimport { Box } from '@pancakeswap/uikit'\r\nimport Page from 'components/Layout/Page'\r\nimport { Route, useParams } from 'react-router'\r\nimport { nftsBaseUrl } from 'views/Nft/market/constants'\r\nimport MarketPageHeader from '../components/MarketPageHeader'\r\nimport ProfileHeader from './components/ProfileHeader'\r\nimport TabMenu from './components/TabMenu'\r\nimport Achievements from './components/Achievements'\r\nimport ActivityHistory from './components/ActivityHistory'\r\nimport SubMenu from './components/SubMenu'\r\nimport useNftsForAddress from './hooks/useNftsForAddress'\r\nimport UnconnectedProfileNfts from './components/UnconnectedProfileNfts'\r\n\r\nconst TabMenuWrapper = styled(Box)`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, 0%);\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    left: auto;\r\n    transform: none;\r\n  }\r\n`\r\n\r\nconst UnconnectedProfile = () => {\r\n  const { accountAddress } = useParams<{ accountAddress: string }>()\r\n  const { profile: profileHookState, isFetching: isProfileFetching } = useProfileForAddress(accountAddress)\r\n  const { profile } = profileHookState || {}\r\n  const { achievements, isFetching: isAchievementFetching } = useAchievementsForAddress(accountAddress)\r\n  const { nfts, isLoading: isNftLoading } = useNftsForAddress(accountAddress, profile, isProfileFetching)\r\n\r\n  return (\r\n    <>\r\n      <MarketPageHeader position=\"relative\">\r\n        <ProfileHeader\r\n          accountPath={accountAddress}\r\n          profile={profile}\r\n          achievements={achievements}\r\n          nftCollected={nfts.length}\r\n          isProfileLoading={isProfileFetching}\r\n          isNftLoading={isNftLoading}\r\n          isAchievementsLoading={isAchievementFetching}\r\n        />\r\n        <TabMenuWrapper>\r\n          <TabMenu />\r\n        </TabMenuWrapper>\r\n      </MarketPageHeader>\r\n      <Page style={{ minHeight: 'auto' }}>\r\n        <Route path={`${nftsBaseUrl}/profile/:accountAddress/achievements`}>\r\n          <Achievements achievements={achievements} isLoading={isAchievementFetching} points={profile?.points} />\r\n        </Route>\r\n        <Route path={`${nftsBaseUrl}/profile/:accountAddress/activity`}>\r\n          <SubMenu />\r\n          <ActivityHistory />\r\n        </Route>\r\n        <Route exact path={`${nftsBaseUrl}/profile/:accountAddress`}>\r\n          <SubMenu />\r\n          <UnconnectedProfileNfts nfts={nfts} isLoading={isNftLoading} />\r\n        </Route>\r\n      </Page>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UnconnectedProfile\r\n","import React from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useParams } from 'react-router'\r\nimport { isAddress } from 'utils'\r\nimport { Flex, Text } from '@pancakeswap/uikit'\r\nimport Page from 'components/Layout/Page'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport ConnectedProfile from './ConnectedProfile'\r\nimport UnconnectedProfile from './UnconnectedProfile'\r\nimport MarketPageHeader from '../components/MarketPageHeader'\r\nimport ProfileHeader from './components/ProfileHeader'\r\nimport NoNftsImage from './components/NoNftsImage'\r\n\r\nconst NftProfile = () => {\r\n  const { account } = useWeb3React()\r\n  const { accountAddress } = useParams<{ accountAddress: string }>()\r\n  const { t } = useTranslation()\r\n\r\n  const isConnectedProfile = account?.toLowerCase() === accountAddress?.toLowerCase()\r\n  const invalidAddress = !accountAddress || isAddress(accountAddress) === false\r\n\r\n  if (invalidAddress) {\r\n    return (\r\n      <>\r\n        <MarketPageHeader position=\"relative\">\r\n          <ProfileHeader\r\n            accountPath={accountAddress}\r\n            profile={null}\r\n            achievements={null}\r\n            nftCollected={null}\r\n            isAchievementsLoading={false}\r\n            isNftLoading={false}\r\n            isProfileLoading={false}\r\n          />\r\n        </MarketPageHeader>\r\n        <Page style={{ minHeight: 'auto' }}>\r\n          <Flex p=\"24px\" flexDirection=\"column\" alignItems=\"center\">\r\n            <NoNftsImage />\r\n            <Text textAlign=\"center\" maxWidth=\"420px\" pt=\"8px\" bold>\r\n              {t('Please enter a valid address, or connect your wallet to view your profile')}\r\n            </Text>\r\n          </Flex>\r\n        </Page>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return <>{isConnectedProfile ? <ConnectedProfile /> : <UnconnectedProfile />}</>\r\n}\r\n\r\nexport default NftProfile\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Box } from '@pancakeswap/uikit'\r\nimport Container from '../Layout/Container'\r\nimport { PageHeaderProps } from './types'\r\n\r\nconst Outer = styled(Box)<{ background?: string }>`\r\n  // background: ${({ theme, background }) => background || theme.colors.secondary};\r\n  background: linear-gradient(90deg, rgb(231 250 255) 0%, rgb(231 250 255) 100%);\r\n`\r\n\r\nconst Inner = styled(Container)`\r\n  padding-top: 32px;\r\n  padding-bottom: 32px;\r\n`\r\n\r\nconst PageHeader: React.FC<PageHeaderProps> = ({ background, children, ...props }) => (\r\n  <Outer background={background} {...props}>\r\n    <Inner>{children}</Inner>\r\n  </Outer>\r\n)\r\n\r\nexport default PageHeader\r\n","import React from 'react'\r\nimport { Box, BoxProps, Grid, GridProps, Skeleton } from '@pancakeswap/uikit'\r\nimport times from 'lodash/times'\r\n\r\ninterface GridPlaceholderProps extends GridProps {\r\n  numItems?: number\r\n}\r\n\r\nexport const GridPlaceholderItem: React.FC<BoxProps> = (props) => (\r\n  <Box {...props}>\r\n    <Skeleton height=\"258px\" mb=\"8px\" />\r\n    <Skeleton width=\"30%\" mb=\"4px\" />\r\n    <Skeleton width=\"45%\" mb=\"16px\" />\r\n    <Skeleton />\r\n  </Box>\r\n)\r\n\r\nconst GridPlaceholder: React.FC<GridPlaceholderProps> = ({ numItems = 12, ...props }) => (\r\n  <Grid gridGap=\"16px\" gridTemplateColumns={['1fr', null, null, 'repeat(4, 1fr)']} {...props}>\r\n    {times(numItems).map((itemKey) => (\r\n      <GridPlaceholderItem key={itemKey} />\r\n    ))}\r\n  </Grid>\r\n)\r\n\r\nexport default GridPlaceholder\r\n","import React from 'react'\r\nimport PageHeader, { PageHeaderProps } from 'components/PageHeader'\r\nimport useTheme from 'hooks/useTheme'\r\n\r\nconst MarketPageHeader: React.FC<PageHeaderProps> = (props) => {\r\n  const { theme } = useTheme()\r\n  const background = theme.isDark\r\n    ? 'linear-gradient(166.77deg, #3B4155 0%, #3A3045 100%)'\r\n    : 'linear-gradient(111.68deg, #f2ecf2 0%, #e8f2f6 100%)'\r\n  return <PageHeader background={background} {...props} />\r\n}\r\n\r\nexport default MarketPageHeader\r\n","import styled from 'styled-components'\r\n\r\ninterface AvatarImageProps {\r\n  src: string\r\n  borderColor?: string\r\n  alt?: string\r\n}\r\n\r\nconst AvatarImage = styled.div.attrs<AvatarImageProps>(({ alt }) => ({\r\n  alt,\r\n}))<AvatarImageProps>`\r\n  background: url('${({ src }) => src}');\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  width: 96px;\r\n  height: 96px;\r\n  border: 4px ${({ borderColor }) => borderColor || '#f2ecf2'} solid;\r\n\r\n  & > img {\r\n    border-radius: 50%;\r\n  }\r\n`\r\n\r\nexport default AvatarImage\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Box, BoxProps, Flex, Skeleton, Text } from '@pancakeswap/uikit'\r\n\r\nexport interface StatBoxItemProps extends BoxProps {\r\n  title: string\r\n  stat: string\r\n}\r\n\r\nexport const StatBoxItem: React.FC<StatBoxItemProps> = ({ title, stat, ...props }) => (\r\n  <Box {...props}>\r\n    <Text fontSize=\"12px\" color=\"textSubtle\" textAlign=\"center\">\r\n      {title}\r\n    </Text>\r\n    {stat === null ? (\r\n      <Skeleton height=\"24px\" width=\"50%\" mx=\"auto\" />\r\n    ) : (\r\n      <Text fontWeight=\"600\" textAlign=\"center\">\r\n        {stat}\r\n      </Text>\r\n    )}\r\n  </Box>\r\n)\r\n\r\nconst StatBox = styled(Flex)`\r\n  align-items: center;\r\n  background: ${({ theme }) => theme.colors.invertedContrast};\r\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\r\n  border-radius: ${({ theme }) => theme.radii.card};\r\n  justify-content: space-around;\r\n  padding: 8px;\r\n  width: 100%;\r\n`\r\n\r\nexport default StatBox\r\n","import React, { ElementType, ReactNode } from 'react'\r\nimport { Flex, Heading, Text, TextProps } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\n\r\nconst SecondaryCard = styled(Text)`\r\n  border: 2px solid ${({ theme }) => theme.colors.tertiary};\r\n  border-radius: 16px;\r\n`\r\n\r\nSecondaryCard.defaultProps = {\r\n  p: '24px',\r\n}\r\n\r\ninterface IconStatBoxProps extends TextProps {\r\n  icon: ElementType\r\n  title: ReactNode\r\n  subtitle: ReactNode\r\n  isDisabled?: boolean\r\n}\r\n\r\nconst IconStatBox: React.FC<IconStatBoxProps> = ({ icon: Icon, title, subtitle, isDisabled = false, ...props }) => {\r\n  return (\r\n    <SecondaryCard {...props}>\r\n      <Flex alignItems=\"start\">\r\n        <Icon width=\"44px\" mr=\"24px\" color={isDisabled ? 'textDisabled' : 'currentColor'} />\r\n        <div>\r\n          <Heading as=\"h3\" scale=\"xl\" color={isDisabled ? 'textDisabled' : 'text'}>\r\n            {title}\r\n          </Heading>\r\n          <Text textTransform=\"uppercase\" color={isDisabled ? 'textDisabled' : 'textSubtle'} fontSize=\"12px\" bold>\r\n            {subtitle}\r\n          </Text>\r\n        </div>\r\n      </Flex>\r\n    </SecondaryCard>\r\n  )\r\n}\r\n\r\nexport default IconStatBox\r\n"],"sourceRoot":""}